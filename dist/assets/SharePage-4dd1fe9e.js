import{_ as b,u as S,a as H,h as u,i as L,o as N,p as T,E,r as p,c as s,d as o,e,t as i,f as c,w as r,F as k,j as w,k as v,m as F,n as I,q as R}from"./index-cf6076e5.js";const D={class:"share-page-container"},$={class:"header"},j={class:"header-content"},q={class:"logo"},A={class:"page-type"},U={class:"nav-right"},G={class:"main-content"},J={class:"content-wrapper"},K={key:0,class:"loading-state"},O={key:1,class:"not-found"},Q={key:2,class:"page-content"},W={class:"page-info"},X={class:"page-title"},Y={class:"page-brief"},Z={class:"collections-section"},ee={class:"collection-title"},te={class:"links-grid"},se=["onClick"],oe={class:"link-content"},ae={class:"link-title"},ne={class:"link-url"},le={key:0,class:"link-tags"},ie={class:"link-actions"},ce={__name:"SharePage",setup(re){const x=S();H();const d=u(!0),l=u(null),h=u(""),g=u(""),z=L(()=>({readonly:"只读模式",edit:"编辑模式",admin:"管理员模式"})[h.value]||"分享模式");N(async()=>{h.value=x.params.type,g.value=x.params.id,h.value&&g.value?await B():d.value=!1});const B=async()=>{try{d.value=!0;const a=await T.getPage(g.value);a?l.value=a:l.value=null}catch(a){console.error("加载分享页面失败:",a),l.value=null,E.error("加载页面失败，请稍后重试")}finally{d.value=!1}},C=a=>{window.open(a,"_blank")},M=()=>{window.location.href="/"};return(a,t)=>{const m=p("el-icon"),f=p("el-button"),V=p("el-empty"),P=p("el-tag");return s(),o("div",D,[e("header",$,[e("div",j,[e("div",q,[t[0]||(t[0]=e("h1",null,"ForgetURL",-1)),e("span",A,i(z.value),1)]),e("div",U,[c(f,{type:"text",onClick:M},{default:r(()=>[c(m,null,{default:r(()=>[...t[1]||(t[1]=[e("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em"},[e("path",{fill:"currentColor",d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})],-1)])]),_:1}),t[2]||(t[2]=v(" 返回首页 ",-1))]),_:1})])])]),e("main",G,[e("div",J,[d.value?(s(),o("div",K,[c(m,{class:"loading-icon",size:48},{default:r(()=>[...t[3]||(t[3]=[e("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",class:"loading-icon"},[e("path",{fill:"currentColor",d:"M12 2V6a10 10 0 1 0 10 10h-4a6 6 0 1 1-6-6z"})],-1)])]),_:1}),t[4]||(t[4]=e("h3",null,"正在加载页面...",-1))])):l.value?(s(),o("div",Q,[e("div",W,[e("h1",X,i(l.value.title),1),e("p",Y,i(l.value.brief),1)]),e("div",Z,[(s(!0),o(k,null,w(l.value.collections,y=>(s(),o("div",{key:y.name,class:"collection"},[e("h3",ee,i(y.name),1),e("div",te,[(s(!0),o(k,null,w(y.links,n=>(s(),o("div",{key:n.url,class:"link-card",onClick:_=>C(n.url)},[e("div",oe,[e("h4",ae,i(n.title),1),e("p",ne,i(n.url),1),n.tags&&n.tags.length>0?(s(),o("div",le,[(s(!0),o(k,null,w(n.tags,_=>(s(),F(P,{key:_,size:"small"},{default:r(()=>[v(i(_),1)]),_:2},1024))),128))])):I("",!0)]),e("div",ie,[c(f,{type:"text",size:"small",onClick:R(_=>C(n.url),["stop"])},{default:r(()=>[c(m,null,{default:r(()=>[...t[6]||(t[6]=[e("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em"},[e("path",{fill:"currentColor",d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})],-1)])]),_:1}),t[7]||(t[7]=v(" 访问 ",-1))]),_:1},8,["onClick"])])],8,se))),128))])]))),128))])])):(s(),o("div",O,[c(V,{description:"页面不存在或已过期"}),c(f,{type:"primary",onClick:M},{default:r(()=>[...t[5]||(t[5]=[v(" 返回首页 ",-1)])]),_:1})]))])])])}}},_e=b(ce,[["__scopeId","data-v-78539d1a"]]);export{_e as default};
